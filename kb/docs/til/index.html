<!doctype html><html lang=en dir=ltr>
<head>
<meta name=generator content="Hugo 0.92.1">
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="2022-02-08 #    [vim] Updating an environment variable in a currently running vim session.
# In the original shell after SSHing in $ env |grep SSH | sed 's/^/export /g' export SSH_AUTH_SOCK=/tmp/ssh-abcdefg/agent.2268696 # In the existing vim session running in a tmux session :let $SSH_AUTH_SOCK = '/tmp/ssh-abcdefg/agent.2268696'   2021-12-13 #    [k8s] Deleting &ldquo;stuck&rdquo; resources that reference finalizers. After applying this you should be able to delete the objects, or those that depend on this one.">
<meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Today I Learned (TIL)">
<meta property="og:description" content="2022-02-08 #    [vim] Updating an environment variable in a currently running vim session.
# In the original shell after SSHing in $ env |grep SSH | sed 's/^/export /g' export SSH_AUTH_SOCK=/tmp/ssh-abcdefg/agent.2268696 # In the existing vim session running in a tmux session :let $SSH_AUTH_SOCK = '/tmp/ssh-abcdefg/agent.2268696'   2021-12-13 #    [k8s] Deleting &ldquo;stuck&rdquo; resources that reference finalizers. After applying this you should be able to delete the objects, or those that depend on this one.">
<meta property="og:type" content="article">
<meta property="og:url" content="http://amcpu.org/kb/docs/til/"><meta property="article:section" content="docs">
<title>Today I Learned (TIL) | amcpu knowledge base</title>
<link rel=manifest href=/kb/manifest.json>
<link rel=icon href=/kb/favicon.png type=image/x-icon>
<link rel=stylesheet href=/kb/book.min.6c7c6446dfdee7c8c933e9bbc6e80ee3ed6c913b2a59519f2092c3c6a9d63e55.css integrity="sha256-bHxkRt/e58jJM+m7xugO4+1skTsqWVGfIJLDxqnWPlU=">
<script defer src=/kb/en.search.min.6c0460e2d0f3049dded31f14efe81515c595df2f153a9988fa898ad903e0823c.js integrity="sha256-bARg4tDzBJ3e0x8U7+gVFcWV3y8VOpmI+omK2QPggjw="></script>
</head>
<body dir=ltr>
<input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control>
<main class="container flex">
<aside class=book-menu>
<div class=book-menu-content>
<nav>
<h2 class=book-brand>
<a href=/kb><span>amcpu knowledge base</span>
</a>
</h2>
<div class=book-search>
<input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/>
<div class="book-search-spinner hidden"></div>
<ul id=book-search-results></ul>
</div>
<ul>
<li>
<a href=http://amcpu.org/kb/docs/sites/>Sites</a>
</li>
<li>
<a href=http://amcpu.org/kb/docs/til/ class=active>Today I Learned (TIL)</a>
</li>
</ul>
</nav>
<script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>
</div>
</aside>
<div class=book-page>
<header class=book-header>
<div class="flex align-center justify-between">
<label for=menu-control>
<img src=/kb/svg/menu.svg class=book-icon alt=Menu>
</label>
<strong>Today I Learned (TIL)</strong>
<label for=toc-control>
<img src=/kb/svg/toc.svg class=book-icon alt="Table of Contents">
</label>
</div>
<aside class="hidden clearfix">
<nav id=TableOfContents></nav>
</aside>
</header>
<article class=markdown><h1 id=2022-02-08>
2022-02-08
<a class=anchor href=#2022-02-08>#</a>
</h1>
<ul>
<li>
<p>[vim] Updating an environment variable in a currently running vim session.</p>
<pre tabindex=0><code># In the original shell after SSHing in
$ env |grep SSH | sed 's/^/export /g'
export SSH_AUTH_SOCK=/tmp/ssh-abcdefg/agent.2268696

# In the existing vim session running in a tmux session
:let $SSH_AUTH_SOCK = '/tmp/ssh-abcdefg/agent.2268696'
</code></pre></li>
</ul>
<h1 id=2021-12-13>
2021-12-13
<a class=anchor href=#2021-12-13>#</a>
</h1>
<ul>
<li>
<p>[k8s] Deleting &ldquo;stuck&rdquo; resources that reference finalizers. After applying this
you should be able to delete the objects, or those that depend on this one.</p>
<pre tabindex=0><code>$ kubectl patch {kind}/{name} -p '{&quot;metadata&quot;:{&quot;finalizers&quot;:[]}}' --type=merge
</code></pre></li>
</ul>
<h1 id=2021-12-02>
2021-12-02
<a class=anchor href=#2021-12-02>#</a>
</h1>
<ul>
<li>
<p>[shell] Using <code>envsubst</code> to template files in shell with GNU gettext utils.</p>
<p>Create a template file with variables using the similar shell syntax:</p>
<pre tabindex=0><code>$ vi tmp.tmpl
my_config_key_1=&quot;${MY_CONFIG_KEY_1}&quot;
my_config_key_2=&quot;${MY_CONFIG_KEY_2}&quot;
</code></pre><p>Render the template with <code>envsubst</code>:</p>
<pre tabindex=0><code>$ export MY_CONFIG_KEY_1=tony MY_CONFIG_KEY_2=cesaro
$ envsubst &lt; tmp.tmpl
my_config_key_1=&quot;tony&quot;
my_config_key_2=&quot;cesaro&quot;
</code></pre></li>
</ul>
<h1 id=2021-05-29>
2021-05-29
<a class=anchor href=#2021-05-29>#</a>
</h1>
<ul>
<li>
<p>[vim] Convert line indention from 2 to 4 spaces</p>
<p>Convert two-space indents to tabs:</p>
<pre tabindex=0><code>:set ts=2 sts=2 noet
:retab!
</code></pre><p>Convert tabs to four-space indents:</p>
<pre tabindex=0><code>:set ts=4 sts=4 et
:retab
</code></pre></li>
</ul>
<h1 id=2021-03-15>
2021-03-15
<a class=anchor href=#2021-03-15>#</a>
</h1>
<ul>
<li>
<p>[python3] Merging two dictionaries in Python 3.x.</p>
<pre tabindex=0><code>$ python3
&gt;&gt;&gt; xs = {&quot;a&quot;: 1, &quot;b&quot;: 2}
&gt;&gt;&gt; ys = {&quot;a&quot;: 9, &quot;c&quot;: 3}
&gt;&gt;&gt; z = {**xs, **ys}
&gt;&gt;&gt; z
{'a': 9, 'b': 2, 'c': 3}
</code></pre></li>
</ul>
<h1 id=2021-02-21>
2021-02-21
<a class=anchor href=#2021-02-21>#</a>
</h1>
<ul>
<li>
<p>[nmap-ncat] Execute a command for any connections established to a listening
port with the <code>-e</code> option for <code>exec</code> or <code>-c</code> for a command run with <code>/bin/sh</code>.</p>
<pre tabindex=0><code>ncat -l 1234 -c &quot;date&quot;
</code></pre></li>
</ul>
</article>
<footer class=book-footer>
<div class="flex flex-wrap justify-between">
</div>
</footer>
<div class=book-comments>
</div>
<label for=menu-control class="hidden book-menu-overlay"></label>
</div>
<aside class=book-toc>
<div class=book-toc-content>
<nav id=TableOfContents></nav>
</div>
</aside>
</main>
</body>
</html>